<app-header-lv1 heading="Agências"></app-header-lv1>

<app-button link="/diversos/agencia/novo"></app-button>

<div class="ui-g-12">
  <p-table [value]="agencias" [paginator]="true" [responsive]="true" [rows]="5" [rowsPerPageOptions]="[5, 10, 20]">
    <ng-template pTemplate="header">
      <tr>
        <th style="width: 100px">Número</th>
        <th style="width: 60px">Dígito</th>
        <th style="width: 200px">Telefone</th>
        <th>Gerente</th>
        <th>Banco</th>
        <th style="width: 80px"></th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-agencia >
      <tr>
        <td>{{agencia.numero}}</td>
        <td>{{agencia.digito}}</td>
        <td>{{agencia.telefone }}</td>
        <td>{{agencia.gerente | uppercase}}</td>
        <td>{{agencia.banco.nome | uppercase}}</td>
        <td>
          <a href="javascript:void(0)" pTooltip="Editar" tooltipPosition="top"
             [routerLink]="['/diversos/agencia/editar', agencia.id]"><i class="fa fa-pencil"></i></a>
          <a href="javascript:void(0)" pTooltip="Excluir" tooltipPosition="top"
             (click)="openModal(modalExclusao, agencia.id)"><i class="fa fa-trash"></i></a>
        </td>
      </tr>
    </ng-template>
    <ng-template pTemplate="emptymessage">
      <tr>
        <td [attr.colspan]="6" class="text-table-left">
          Nenhum registro encontrado.
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>

<ng-template #modalExclusao>
  <div class="modal-body text-center">
    <p>Deseja realmente excluir o registro?</p>
    <button type="button" class="btn btn-default" (click)="confirm()">Sim</button>
    <button type="button" class="btn btn-primary" (click)="decline()">Não</button>
  </div>
</ng-template>
