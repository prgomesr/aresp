<div class="form-row">
  <div class="form-group col-md-6">
    <a href="javascript:void(0)" (click)="prepararNovoTelefone()"><i class="fa fa-plus"></i> Novo</a>
    <p-table [value]="telefones" [responsive]="true">
      <ng-template pTemplate="header">
        <tr>
          <th>Número</th>
          <th>Tipo</th>
          <th style="width: 80px;"></th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-telefone let-rowIndex="rowIndex">
        <tr>
          <td>{{telefone.numero | telefone}}</td>
          <td>{{telefone.tipo}}</td>
          <td>
            <a href="javascript:void(0)" pTooltip="Editar" tooltipPosition="top">
              <i class="fa fa-pencil" (click)="pepararEdicaoTelefone(telefone, rowIndex)"></i></a>
            <a href="javascript:void(0)" pTooltip="Excluir" tooltipPosition="top">
              <i class="fa fa-trash" (click)="removerTelefone(rowIndex)"></i></a>
          </td>
        </tr>
      </ng-template>
      <ng-template pTemplate="emptymessage">
        <tr>
          <td colspan="3" class="text-table-left">
            Nenhum telefone adicionado.
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>

<p-dialog [header]="editando ? 'Edição de Telefone' : 'Novo Telefone'" [(visible)]="exibindoFormularioContato"
          modal="modal" *ngIf="telefone">
  <form #fTel="ngForm" (ngSubmit)="adicionarTelefone(fTel)" autocomplete="off">
    <div class="form-group">
      <label for="numero">Telefone</label>
      <input type="text" class="form-control" id="numero" name="numero" required minlength="10"
             [(ngModel)]="telefone.numero" #numero="ngModel">
      <app-message [control]="numero" error="required" text="Preencha este campo."></app-message>
    </div>
    <div class="form-group col-md-12" >
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="tipo" id="principal" value="PRINCIPAL"
               name="tipo" #tipo="ngModel" required [(ngModel)]="telefone.tipo">
        <label class="form-check-label" for="principal">Principal</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="tipo" id="contato" value="CONTATO"
               name="tipo" #tipo="ngModel" required [(ngModel)]="telefone.tipo">
        <label class="form-check-label" for="contato">Contato</label>
      </div>
    </div>
    <button class="btn btn-primary" type="submit" [disabled]="fTel.invalid">{{editando ? 'Alterar' : 'Adicionar'}}</button>
  </form>
</p-dialog>
